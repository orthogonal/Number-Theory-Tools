<!DOCTYPE html>
<html>
<head>
<title>Number Theory</title>
<link rel="stylesheet" type="text/css" href="mathstyles.css" />
<script src="http://www.lathamcity.com/_js/jquery-1.7.js"></script>
<script src="http://www.lathamcity.com/_js/jquery.validate.min.js"></script>
<script>
//Every submit-validate combination follows the same general setup as the GCD one.
$('document').ready(function() {
	$('#gcd').submit(function(evt) {
		$('#answer').html("");	//Clear the right side of the screen for a new answer
		var stuff = $('#gcd').serialize();
		if ($('#gcd').valid()){	//The Validator plugin checks if the form is valid based on the rules applied below
			$.post("gcd.php", stuff, function(data){
				$('#answer').html(data);	//If it is, there's an AJAX call to the corresponding PHP script, and the output is printed.
			})								//If it isn't, the alert shown below appears.
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#gcd').validate({	//Part of the validator plugin.  This defines the behavior of validation.
		rules: {			//The requirements each entry must fulfill in order for the form to be valid.  Usually all the same.
			gcd_x: {
				required: true,			//There must be an entry,
				digits: true,			//It must be a positive integer, and
				range: [1, 2147483646]	//It must not be 0 or an invalid PHP integer (one that overflows and turns into a floating-point number)
			},
			gcd_y: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			}
		},
		
		messages: {			//These define the messages that are shown in new labels when the corresponding entry is invalid.
			gcd_x: {		//They are all blank because a generic error message appears in an alert instead.
				required: "",
				digits: "",
				range: ""
			},
			gcd_y: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});
	
	$('#diophantine').submit(function(evt) {
		$('#answer').html("");
		var stuff = $('#diophantine').serialize();
		if ($('#diophantine').valid()){
			$.post("diophantine.php", stuff, function(data){
				$('#answer').html(data);
			})
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#diophantine').validate({
		rules: {
			diop_x: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			},
			diop_y: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			},
			diop_z: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			}
		},
		
		messages: {
			diop_x: {
				required: "",
				digits: "",
				range: ""
			},
			diop_y: {
				required: "",
				digits: "",
				range: ""
			},
			diop_z: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});

	$('#pfac').submit(function(evt) {
		$('#answer').html("");
		var stuff = $('#pfac').serialize();
		if ($('#pfac').valid()){
			$.post("pfac.php", stuff, function(data){
				$('#answer').html(data);
			})
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#pfac').validate({
		rules: {
			pfac_x: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			}
		},
		
		messages: {
			pfac_x: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});
	
	$('#eratos').submit(function(evt) {
		$('#answer').html("");
		var stuff = $('#eratos').serialize();
		if ($('#eratos').valid()){
			$.post("eratosthenes.php", stuff, function(data){
				$('#answer').html(data);
			})
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#eratos').validate({
		rules: {
			eratos_x: {
				required: true,
				digits: true,
				range: [1, 2147573646]
			}
		},
		
		messages: {
			eratos_x: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});
	
	$('#lincong').submit(function(evt) {
		$('#answer').html("");
		var stuff = $('#lincong').serialize();
		if ($('#lincong').valid()){
			$.post("linearcongruence.php", stuff, function(data){
				$('#answer').html(data);
			})
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#lincong').validate({
		rules: {
			lincong_a: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			},
			lincong_c: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			},
			lincong_m: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			}
		},
		
		messages: {
			lincong_a: {
				required: "",
				digits: "",
				range: ""
			},
			lincong_c: {
				required: "",
				digits: "",
				range: ""
			},
			lincong_m: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});
		
	$('#phifunction').submit(function(evt) {
		$('#answer').html("");
		var stuff = $('#phifunction').serialize();
		if ($('#phifunction').valid()){
			$.post("phifunction.php", stuff, function(data){
				$('#answer').html(data);
			})
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#phifunction').validate({
		rules: {
			phi_x: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			}
		},
		
		messages: {
			phi_x: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});
	
	$('#legendre').submit(function(evt) {
		$('#answer').html("");
		var stuff = $('#legendre').serialize();
		if ($('#legendre').valid()){
			$.post("legendre.php", stuff, function(data){
				$('#answer').html(data);
			})
		}
		else alert("There is an error in your input.  All numbers must be integers between 1 and 2147483646");
		evt.preventDefault();
	});
	
	$('#legendre').validate({
		rules: {
			legendre_x: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			},
			legendre_p: {
				required: true,
				digits: true,
				range: [1, 2147483646]
			}
		},
		
		messages: {
			legendre_x: {
				required: "",
				digits: "",
				range: ""
			},
			legendre_p: {
				required: "",
				digits: "",
				range: ""
			}
		}
	});
});
</script>
</head>
<body>
<div id='functions'>
	<!--Each block of code below defines one possible problem for a PHP script to solve -->
	<div class="problem">
		<div class="title">Greatest Common Divisor</div>
		<form method="post" action="gcd.php" id="gcd">
			<input type="text" name="gcd_x" size="10" maxlength="10" id="gcd_x"/>
			<input type="text" name="gcd_y" size="10" maxlength="10" id="gcd_y"/>
			<input type="submit" value="Greatest Common Divisicize!" />
		</form>
	</div>
	
	<div class="problem">
		<div class="title">Diophantine Equation</div>
		<form method="post" action="diophantine.php" id="diophantine">
			a<input type="text" name="diop_x" size="10" maxlength="10" id="diop_x"/>
			+ b<input type="text" name="diop_y" size="10" maxlength="10" id="diop_y"/>
			= <input type="text" name="diop_z" size="10" maxlength="10" id="diop_z" />
			<input type="submit" value="Diopicize!" />
		</form>
	</div>
	
	<div class="problem">
		<div class="title">Prime Factorization</div>
		<form method="post" action="pfac.php" id="pfac">
			<input type="text" name="pfac_x" size="10" maxlength="10" id="pfac_x" />
			<input type="submit" value="Prime Factorize!" />
		</form>
	</div>
	
	<div class="problem">
		<div class="title">Sieve of Eratosthenes</div>
		<form method="post" action="eratosthenes.php" id="eratos">
			<input type="text" name="eratos_x" size="10" maxlength="10" id="eratos_x" />
			<input type="submit" value="Eratosthenicize!" />
		</form>
	</div>
	
	<div class="problem">
		<div class="title">Linear Congruence</div>
		<form method="post" action="linearcongruence.php" id="lincong">
			<input type="text" name="lincong_a" size="10" maxlength="10" id="lincong_a" />x <font face="Symbol"> &#186; </font> <!-- &#186; is congruence -->
			<input type="text" name="lincong_c" size="10" maxlength="10" id="lincong_c" /> mod 
			<input type="text" name="lincong_m" size="10" maxlength="10" id="lincong_m" />
			<input type="submit" value="Solve Congruence!" />
		</form>
	</div>
	
	<div class="problem">
		<div class="title">Euler's Phi Function</div>
		<form method="post" action="phifunction.php" id="phifunction">
			<input type="text" name="phi_x" size="10" maxlength="10" id="phi_x" />
			<input type="submit" value="&#981;icize!" /> <!-- &#981; is phi -->
		</form>
	</div>
	
	<div class="problem">
		<div class="title">Legendre Symbol</div>
		<form method="post" action="legendre.php" id="legendre">
			Is <input type="text" name="legendre_x" size="10" maxlength="10" id="legendre_x" />
			 a quadratic residue mod <input type="text" name="legendre_p" size="10" maxlength="10" id="legendre_p" />?
			<input type="submit" value="Legendricize!" />
		</form>
	</div>
</div>
<!-- Answers is the entire right side of the screen -->
<div id='answers'>
	<div id="answer">
	</div>
</div>
</body>
</html>